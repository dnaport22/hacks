<html lang="en">
<head>
    <title>Nav Dhuti</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="./css/bulma.min.css" rel="stylesheet"/>
    <link href="./css/main.css" rel="stylesheet"/>
</head>
<body>
    <nav class="navbar" role="navigation" aria-label="main navigation">
        <div class="navbar-brand">
            <a class="navbar-item" href="#">
                Nav Dhuti
            </a>
            <hr />
            <p class="navbar-item navbar-sub-item" href="#">
                Ideas, innovations and some failed projects that light up the future full of
                learning and enlightenment. This is not a portfolio, it's an archival of learning and
                place of inspiration.
            </p>
            <hr class="full" />
            <button onclick="window.open('https://www.linkedin.com/in/navdhuti/', '_blank')" class="linkedin button is-small">
                <span>LinkedIn</span>
            </button>
        </div>
    </nav>
    <div class="container">
        <div id="posts"></div>
    </div>
    <script>
        let postContent = (data) => {
            let link = `'${data.link}'`;
            return `
                    <div class="card" onclick="window.open(${link}, '_target')">
                    <section class="section">
                        <p class="title is-4">${data.title}</p>
                        <p class="subtitle is-6">${data.description}</p>
                        <p class="is-6">${data.date}</p>
                    </section>
                    <footer class="card-footer">
                        <a href="#" class="card-footer-item">More</a>
                    </footer>
                    </div>`
        };

        fetch('posts.json')
            .then(response => response.json())
            .then(json => {
                let container = document.getElementById("posts");
                json.forEach(e => {
                    container.insertAdjacentHTML('beforeend', postContent(e))
                })
            })
    </script>
</body>
</html>
